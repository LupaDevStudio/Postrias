#:kivy 2.1.0
#:import TITLE_FONT_COLOR tools.constants.TITLE_FONT_COLOR
#:import TEXT_FONT_COLOR tools.constants.TEXT_FONT_COLOR
#:import BACK_ARROW_SIZE tools.constants.BACK_ARROW_SIZE

<GameOverScreen>:

    # Game Over Label
    Label:
        id: game_over_label
        text: root.title_text
        size_hint: 1, 0.5
        pos_hint: {"center_x": 0.5, "center_y": 0.9}
        font_size: 50*root.font_ratio
        font_name: root.font_name
        color: TITLE_FONT_COLOR
        outline_color: (1,1,1,1)
        outline_width: 3

    # Back button
    ImageWithTextButton:
        source: PATH_IMAGES + "back_arrow.png"
        size_hint: BACK_ARROW_SIZE, BACK_ARROW_SIZE*0.6
        pos_hint: {"x":0.025, "top": 0.975}
        allow_stretch: True
        keep_ratio: False
        release_function: root.back_to_menu

    # Score
    ImageWithText:
        id: score_label
        text: root.score_text
        source: PATH_IMAGES + "credits_background.png"
        size_hint: 0.25, 0.15
        pos_hint: {"center_x": 0.8, "center_y": 0.7}
        allow_stretch: True
        keep_ratio:False
        text_font_name: root.font_name
        text_color: TEXT_FONT_COLOR

    # Ending story
    Image:
        id: ending_label
        source: PATH_IMAGES + "ending_background.png"
        size_hint: 0.5, 0.5
        pos_hint: {"center_x": 0.75, "y": 0}
        allow_stretch: True
        keep_ratio:False
    Label:
        size_hint: 0.38, 0.35
        pos_hint: {"center_x": 0.75, "y": 0.02}
        text: root.ending_text
        font_name: root.font_name
        color: TEXT_FONT_COLOR
        text_size: self.size
        halign: "center"
        valign:"middle"
        font_size: 13*root.font_ratio

    # Credit background
    ImageWithText:
        id: credits_label
        text: root.credits_text
        source: PATH_IMAGES + "credits_background.png"
        size_hint: 0.3, 0.5
        pos_hint: {"center_x": 0.25, "center_y": 0.5}
        allow_stretch: True
        keep_ratio:False
        text_font_name: root.font_name
        text_color: TEXT_FONT_COLOR

    # Share button
    ImageWithTextButton:
        id: share_button
        source: PATH_IMAGES + "share_button.png"
        size_hint: None, 0.15
        pos_hint: {"x":0.025, "y": 0.035}
        allow_stretch: True
        width: self.height
        opacity: 1 if root.share_button else 0
        release_function: root.share_score
