#:kivy 2.1.0
#:import PATH_IMAGES tools.path.PATH_IMAGES
#:import TEXT_FONT_COLOR tools.constants.TEXT_FONT_COLOR
#:import TEXT tools.constants.TEXT
#:import LANGUAGES_LIST tools.constants.LANGUAGES_LIST
#:import USER_DATA tools.constants.USER_DATA
#:import BACK_ARROW_SIZE tools.constants.BACK_ARROW_SIZE


<SettingsScreen>:

    # Back arrow
    ImageWithTextButton:
        source: PATH_IMAGES + "back_arrow.png"
        size_hint: BACK_ARROW_SIZE, BACK_ARROW_SIZE*0.6
        pos_hint: {"x":0.025, "top": 0.975}
        allow_stretch: True
        keep_ratio: False
        release_function: root.go_to_menu

    Slider:
        id: sound_slider
        min: 0
        max: 1
        value: USER_DATA.sound_effects_volume
        pos_hint: {"center_x":0.75, "center_y": 0.35}
        size_hint: 0.3, 0.1
        on_touch_up: root.update_sound_volume

    Label:
        text: root.sound_volume_label
        pos_hint: {"center_x":0.75, "center_y": 0.43}
        font_size: 20*root.font_ratio
        color: TEXT_FONT_COLOR
        outline_width: 2
        outline_color: (1,1,1,1)

    Slider:
        id: music_slider
        min: 0
        max: 1
        value: USER_DATA.music_volume
        pos_hint: {"center_x":0.75, "center_y": 0.68}
        size_hint: 0.3, 0.1
        on_touch_move: root.update_music_volume

    Label:
        text: root.music_volume_label
        pos_hint: {"center_x":0.75, "center_y": 0.75}
        font_size: 20*root.font_ratio
        color: TEXT_FONT_COLOR
        outline_width: 2
        outline_color: (1,1,1,1)

    ### Language ###
    Label:
        text: root.language_label
        pos_hint: {"center_x":0.25, "center_y": 0.75}
        font_size: 20*root.font_ratio
        color: TEXT_FONT_COLOR
        outline_width: 2
        outline_color: (1,1,1,1)
    FocusableSpinner:
        id: language_spinner
        text: root.current_language
        pos_hint: {"center_x":0.25, "center_y": 0.65}
        size_hint: 0.3, 0.1
        font_size: 20*root.font_ratio
        values: root.values_language_list
        on_text:
            root.change_language(self.text)

    ### Tutorial ###
    Button:
        id: watch_tutorial
        text: root.tutorial_label
        pos_hint: {"center_x":0.25, "center_y": 0.35}
        size_hint: 0.3, 0.1
        font_size: 20*root.font_ratio
        on_release:
            root.watch_tutorial()

    ### Version ###
    Label:
        text: root.version_label
        pos_hint: {"center_x":0.5, "center_y": 0.05}
        font_size: 15*root.font_ratio
        color: TEXT_FONT_COLOR
        outline_width: 2
        outline_color: (1,1,1,1)
