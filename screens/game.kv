#:kivy 2.1.0
#:import PATH_IMAGES tools.path.PATH_IMAGES
#:import PATH_TEXT_FONT tools.path.PATH_TEXT_FONT
#:import TEXT_FONT_COLOR tools.constants.TEXT_FONT_COLOR
#:set center_x_faction 0.11
#:set center_x_resource 0.95
#:set upper_y_indic 0.93
#:set vertical_spacing_indic 0.09
#:set label_image_spacing 0.05
#:set image_size_indic 0.08
#:set center_img_height 0.45
#:set center_img_width 0.5
#:set center_img_center_y 0.7
#:set side_img_width 0.3
#:set side_img_height 0.2
#:set side_img_center_x 0.175
#:set side_img_center_y 0.25
#:set text_filling_ratio 0.9


<IndicatorLabel@Label>:
    size_hint: 1, 0.5

<GameScreen>:

    # Faction background
    Image:
        id: order_image
        source: PATH_IMAGES + "card_layout.png"
        size_hint: 0.15, vertical_spacing_indic*4.6
        pos_hint: {"center_x": center_x_faction - label_image_spacing*0.6, "center_y": 0.79}
        allow_stretch: True
        keep_ratio:False

    # Faction indicators
    IndicatorLabel:
        id: order_label
        text: root.order_value
        pos_hint: {"center_x": center_x_faction, "center_y": upper_y_indic}
        font_size: 20*root.font_ratio
        font_name: root.font_name
        color: TEXT_FONT_COLOR
    Image:
        id: order_image
        source: PATH_IMAGES + "order.png"
        size_hint: None, image_size_indic
        pos_hint: {"center_x": center_x_faction - label_image_spacing, "center_y": upper_y_indic}
        allow_stretch: True
        width: self.height
    IndicatorLabel:
        id: military_label
        text: root.military_value
        pos_hint: {"center_x": center_x_faction, "center_y": upper_y_indic - vertical_spacing_indic*1}
        font_size: 20*root.font_ratio
        font_name: root.font_name
        color: TEXT_FONT_COLOR
    Image:
        id: military_image
        source: PATH_IMAGES + "military.png"
        size_hint: None, image_size_indic
        pos_hint: {"center_x": center_x_faction - label_image_spacing, "center_y": upper_y_indic - vertical_spacing_indic*1}
        allow_stretch: True
        width: self.height
    IndicatorLabel:
        id: civilian_label
        text: root.civilian_value
        pos_hint: {"center_x": center_x_faction, "center_y": upper_y_indic - vertical_spacing_indic*2}
        font_size: 20*root.font_ratio
        font_name: root.font_name
        color: TEXT_FONT_COLOR
    Image:
        id: civilian_image
        source: PATH_IMAGES + "civilian.png"
        size_hint: None, image_size_indic
        pos_hint: {"center_x": center_x_faction - label_image_spacing, "center_y": upper_y_indic - vertical_spacing_indic*2}
        allow_stretch: True
        width: self.height
    IndicatorLabel:
        id: paleo_label
        text: root.paleo_value
        pos_hint: {"center_x": center_x_faction, "center_y": upper_y_indic - vertical_spacing_indic*3}
        font_size: 20*root.font_ratio
        font_name: root.font_name
        color: TEXT_FONT_COLOR
    Image:
        id: paleo_image
        source: PATH_IMAGES + "paleo.png"
        size_hint: None, image_size_indic
        pos_hint: {"center_x": center_x_faction - label_image_spacing, "center_y": upper_y_indic - vertical_spacing_indic*3}
        allow_stretch: True
        width: self.height

    # Resources background
    Image:
        id: order_image
        source: PATH_IMAGES + "card_layout.png"
        size_hint: 0.15, vertical_spacing_indic*3.6
        pos_hint: {"center_x": center_x_resource - label_image_spacing*0.6, "center_y": 0.84}
        allow_stretch: True
        keep_ratio:False
    
    # Resources indicator
    IndicatorLabel:
        id: food_label
        text: root.food_value
        pos_hint: {"center_x": center_x_resource, "center_y": upper_y_indic}
        font_size: 20*root.font_ratio
        font_name: root.font_name
        color: TEXT_FONT_COLOR
    Image:
        id: food_image
        source: PATH_IMAGES + "food.png"
        size_hint: None, image_size_indic
        pos_hint: {"center_x": center_x_resource - label_image_spacing, "center_y": upper_y_indic}
        allow_stretch: True
        width: self.height
    IndicatorLabel:
        id: weapons_label
        text: root.weapons_value
        pos_hint: {"center_x": center_x_resource, "center_y": upper_y_indic -vertical_spacing_indic*1}
        font_size: 20*root.font_ratio
        font_name: root.font_name
        color: TEXT_FONT_COLOR
    Image:
        id: weapons_image
        source: PATH_IMAGES + "weapons.png"
        size_hint: None, image_size_indic
        pos_hint: {"center_x": center_x_resource - label_image_spacing, "center_y": upper_y_indic -vertical_spacing_indic*1}
        allow_stretch: True
        width: self.height
    IndicatorLabel:
        id: tools_label
        text: root.tools_value
        pos_hint: {"center_x": center_x_resource, "center_y": upper_y_indic -vertical_spacing_indic*2}
        font_size: 20*root.font_ratio
        font_name: root.font_name
        color: TEXT_FONT_COLOR
    Image:
        id: tools_image
        source: PATH_IMAGES + "tools.png"
        size_hint: None, image_size_indic
        pos_hint: {"center_x": center_x_resource - label_image_spacing, "center_y": upper_y_indic -vertical_spacing_indic*2}
        allow_stretch: True
        width: self.height

    # Decision center
    ImageWithText:
        id: decision_center
        source: PATH_IMAGES + "decision_background.png"
        size_hint: center_img_width, center_img_height
        pos_hint: {"center_x": 0.5, "center_y": center_img_center_y}
        allow_stretch: True
        keep_ratio:False
        text: root.decision_text
        text_font_name: root.font_name
        text_color: TEXT_FONT_COLOR
    
    # Decision left
    ImageWithText:
        id: decision_no
        source: PATH_IMAGES + "decision_choice_background.png"
        size_hint: side_img_width, side_img_height
        pos_hint: {"center_x": side_img_center_x, "center_y":side_img_center_y}
        allow_stretch: True
        keep_ratio: False
        text: root.decision_no_text
        text_font_name: root.font_name
        text_color: TEXT_FONT_COLOR
    Button:
        size_hint: side_img_width, side_img_height
        pos_hint: {"center_x": side_img_center_x, "center_y":side_img_center_y+0.1}
        background_color: (0,1,0,0.5)
        on_release:
            root.choose_answer("left")

    # Decision right
    ImageWithText:
        id: decision_yes
        source: PATH_IMAGES + "decision_choice_background.png"
        size_hint: side_img_width, side_img_height
        pos_hint: {"center_x": 1-side_img_center_x, "center_y":side_img_center_y}
        allow_stretch: True
        keep_ratio: False
        text: root.decision_yes_text
        text_font_name: root.font_name
        text_color: TEXT_FONT_COLOR
    
    # Decision guillotine
    Image:
        id: decision_guillotine
        source: PATH_IMAGES + "guillotine.png"
        size_hint: None, 0.15
        pos_hint: {"center_x": 0.5, "center_y": 0.1}
        allow_stretch: True
        keep_ratio: False
        width: self.height
    
    # Event background
    ImageWithText:
        id: event
        source: PATH_IMAGES + "event_background.png"
        size_hint: center_img_width, center_img_height
        pos_hint: {"center_x": 0.5, "center_y": center_img_center_y}
        allow_stretch: True
        keep_ratio:False
        text: root.event_text
        text_font_name: root.font_name
        text_color: TEXT_FONT_COLOR

    # Decree background
    ImageWithText:
        id: decree_center
        source: PATH_IMAGES + "decree_background.png"
        size_hint: center_img_width, center_img_height
        pos_hint: {"center_x": 0.5, "center_y": center_img_center_y}
        allow_stretch: True
        keep_ratio:False
        text: root.decree_center_text
        text_font_name: root.font_name
        text_color: TEXT_FONT_COLOR
    
    # Decree left
    ImageWithText:
        id: decree_left
        source: PATH_IMAGES + "decree_choice_background.png"
        size_hint: side_img_width, side_img_height
        pos_hint: {"center_x": side_img_center_x, "center_y":side_img_center_y}
        allow_stretch: True
        keep_ratio:False
        text: root.decree_left_text
        text_font_name: root.font_name
        text_color: TEXT_FONT_COLOR
    
    # Decree right
    ImageWithText:
        id: decree_right
        source: PATH_IMAGES + "decree_choice_background.png"
        size_hint: side_img_width, side_img_height
        pos_hint: {"center_x": 1-side_img_center_x, "center_y":side_img_center_y}
        allow_stretch: True
        keep_ratio:False
        text: root.decree_right_text
        text_font_name: root.font_name
        text_color: TEXT_FONT_COLOR

    
